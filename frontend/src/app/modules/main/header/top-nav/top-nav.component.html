<div class="all">
    <div class="navbar-left">
        <div class="navbar-logo-container">
            <img class="navbar-logo" src="assets/images/Logo.svg" routerLink="/main">
            <nav class="navbar">
                <app-side-nav-toggler></app-side-nav-toggler>
            </nav>
        </div>
        <div class="search-container-box">
        <div class="search-container">
            <i class="search-icon fa fa-search"></i>
            <input class="search-form" type="search" placeholder="Search">
        </div>
        </div>
    </div>
    <div class="navbar-right" *ngIf="{currentUser: $currentUser | async} as data">
        <div class="user-container">
            <img *ngIf="data.currentUser?.photoURL; else generic" class="user-icon" src="{{data.currentUser?.photoURL}}" alt="User avatar">
            <ng-template #generic>
              <div class="user-icon generic-icon">
                {{data.currentUser?.displayName?.substring(0,1)?.toUpperCase() ?? data.currentUser?.email?.substring(0,1)?.toUpperCase() ?? "New"}}
              </div>
            </ng-template>
            <div class="username user-select-none" role="button" (click)="$event.stopPropagation(); dropdownOptions.open();">
                <span>{{data.currentUser?.displayName ?? data.currentUser?.email ?? "Username"}}</span>
            </div>
        </div>
        <div class="row mr-2">
            <div class="col">
              <div ngbDropdown #dropdownOptions="ngbDropdown" class="dropdown-cont d-inline-block">
                <button class="btn dropdown-arrow-button" id="dropdownMenu" ngbDropdownToggle>
                </button>
                <div ngbDropdownMenu class="dropdown-custom" aria-labelledby="dropdownMenu">
                    <button ngbDropdownItem class="dropdown-user">
                        <div class="dropdown-user-container">
                            <img *ngIf="data.currentUser?.photoURL; else generic" class="dropdown-user-icon" src="{{data.currentUser?.photoURL}}" alt="User avatar">
                            <ng-template #generic>
                              <div class="dropdown-user-icon generic-icon">
                                {{data.currentUser?.displayName?.substring(0,1)?.toUpperCase() ?? data.currentUser?.email?.substring(0,1)?.toUpperCase() ?? "New"}}
                              </div>
                            </ng-template>
                            <div class="dropdown-username user-select-none" role="button" (click)="$event.stopPropagation(); dropdownOptions.open();">
                                <span>{{data.currentUser?.displayName ?? data.currentUser?.email ?? "Username"}}</span>
                            </div>
                        </div>
                    </button>
                    <div class="dropdown-create-button-container">
                        <button ngbDropdownItem type="button" class="dropdown-create-button">
                            <i class="dropdown-button fa fa-plus"></i>
                            Create
                        </button>
                    </div>
                    <button ngbDropdownItem class="custom-text" (click)="logout()">Logout</button>
                </div>
              </div>
            </div>
        </div>
        <div class="button-container">
            <button type="button" class="btn btn-outline-primary btn-lg" (click)="createRepl()">
                <i class="button fa fa-plus"></i>
            </button>
        </div>
    </div>
</div>
